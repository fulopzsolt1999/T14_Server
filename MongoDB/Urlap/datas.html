<!DOCTYPE html>
<html lang="hu">
   <head>
      <meta charset="UTF-8" />
      <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <link
         href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
         rel="stylesheet"
         integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"
         crossorigin="anonymous" />
      <title>Regisztrált dolgozók listája</title>
   </head>
   <body>
      <div class="container">
         <h1 class="mt-5 mb-3">Dolgozók listája</h1>
         <table class="table table-striped table-bordered table-primary">
            <thead class="table-dark">
               <tr>
                  <th>Dolgozó neve</th>
                  <th>Életkora</th>
                  <th>Fizetése</th>
                  <th>Beosztása</th>
               </tr>
            </thead>
            <tbody id="dolgozoTabla"></tbody>
         </table>
      </div>
      <script
         src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
         integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
         crossorigin="anonymous"></script>
      <script>
         fetch("/dolgozolekerdezes")
            .then((response) => {
               return response.json();
            })
            .then((data) => {
               const tableBody = document.getElementById("dolgozoTabla");
               data.forEach((dolgozo) => {
                  const row = document.createElement("tr");
                  row.innerHTML = `
                     <td>${dolgozo.nev}</td>
                     <td>${dolgozo.kor}</td>
                     <td>${dolgozo.fizetes}</td>
                     <td>${dolgozo.beosztas}</td>
                  `;
                  tableBody.appendChild(row);
               });
            })
            .catch((error) => {
               console.log("Hiba", error);
            });
      </script>
   </body>
</html>
